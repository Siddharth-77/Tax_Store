<div class="tors-users w-full bg-green-100">
    <div class="tors-users-inner bg-white m-5 pt-[25px] px-6 pb-3">
        <div class="tors-users-head-buttons w-full flex items-center justify-between ">
            <div class="tors-users-head">
                <div class="tors-head flex items-center gap-2">
                    <h2 class="text-[24px] font-extrabold text-neutral-900 leading-8">Attendance Report</h2>
                    <p class="bg-green-700 w-9 text-[14px] text-center rounded px-3 text-white font-medium">{{pageLength}}</p>
                </div>
                <div class="tors-head-para mt-1">
                    <p class="text-base font-normal text-neutral-500 leading-6">List of all attendance reports</p>
                </div>
            </div>
            <div class="tors-users-buttons flex gap-3">
                <div class="tors-users-buttons-2">
                    <button (click)="attendanceDownload()" class="bg-white border-[#D0D5DD] border text-[14px] font-semibold text-[#191D23] px-5 py-2 justify-center gap-2 flex items-center rounded">
                        <mat-icon class="min-w-[18px] w-[18px]" svgIcon="feather:download"></mat-icon>
                         Download Excel</button>
                </div>
            </div>
        </div>
        <div class="tors-users-table-filter mt-4">
            <div class="tors-users-table-filterr flex items-center justify-between p-3 rounded bg-green-50">
                <div class="tors-users-search w-[425px]">
                    <mat-form-field class="fuse-mat-no-subscript w-full">
                        <mat-icon class="w-[21px] min-w-[21px]"
                            matPrefix
                            [svgIcon]="'heroicons_outline:search'"></mat-icon>
                        <input matInput (keyup)="search($event.target.value)" [placeholder]="'Search by name, email, leader... '">
                    </mat-form-field>
                </div>
                <div class="tors-top-fbutton w-[217px]">
                    <!-- <button class="flex gap-2 w-[217px] justify-center rounded text-[#191D23] text-lg font-medium border-[#E7EAEE] border py-[8px] px-[16px]">
                        <mat-icon class="w-[16px] min-w-[16px]" svgIcon="heroicons_outline:filter"></mat-icon>
                        Select date range
                    </button> -->
                    <mat-form-field appearance="fill" class="w-full">
                        <!-- <mat-label>Enter a date range</mat-label> -->
                        <mat-date-range-input [rangePicker]="picker">
                          <input matStartDate  placeholder="Start Date" (dateChange)="onDateChange('start', $event)">
                          <input matEndDate  placeholder="End Date" (dateChange)="onDateChange('end', $event)">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matIconPrefix [for]="picker"></mat-datepicker-toggle>
                        <mat-date-range-picker #picker></mat-date-range-picker>                      
                    </mat-form-field>
                </div>
            </div>
            <div class="tors-users-table mt-1">
                <div class="mat-elevation-z8 shadow-none">
                    <table class="w-full" mat-table [dataSource]="dataSource">                  
              
                      <ng-container matColumnDef="username">
                        <th mat-header-cell *matHeaderCellDef> 
                            <div class="tab flex items-center gap-2">
                                <h3 class="text-[12px] text-[#64748b] font-bold">USERNAME</h3>
                                <!-- <mat-icon class="w-[21px] min-w-[21px]" svgIcon="heroicons_solid:sort-descending"></mat-icon> -->
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="font-normal text-[14px] text-neutral-800">
                                {{element.userName}}
                            </div>
                        </td>
                      </ng-container>                  
    
                      <ng-container matColumnDef="firstname">
                        <th mat-header-cell *matHeaderCellDef> 
                            <div class="tab flex items-center gap-2">
                                <h3 class="text-[12px] text-[#64748b] font-bold">FIRSTNAME</h3>
                                <!-- <mat-icon class="w-[21px] min-w-[21px]" svgIcon="heroicons_solid:sort-descending"></mat-icon> -->
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="font-normal text-[14px] text-neutral-800">                                
                                {{element.firstName}}
                            </div>
                        </td>
                      </ng-container>
   
                      <ng-container matColumnDef="lastname">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="tab flex items-center gap-2">
                                <h3 class="text-[12px] text-[#64748b] font-bold">LASTNAME</h3>
                                <!-- <mat-icon class="w-[21px] min-w-[21px]" svgIcon="heroicons_solid:sort-descending"></mat-icon> -->
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="font-normal text-[14px] text-neutral-800">
                                {{element.lastName}}
                            </div>
                        </td>
                      </ng-container>
                  
              
                      <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="tab flex items-center gap-2">
                                <h3 class="text-[12px] text-[#64748b] font-bold">EMAIL</h3>
                                <!-- <mat-icon class="w-[21px] min-w-[21px]" svgIcon="heroicons_solid:sort-descending"></mat-icon> -->
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="font-normal text-[14px] text-neutral-800">
                                {{element.email}}
                            </div>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="hoursworked">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="tab flex items-center gap-2">
                                <h3 class="text-[12px] font-bold text-[#64748b]">HOURS WORKED</h3>
                     
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="font-semibold text-[14px] text-neutral-800">
                                 {{element.hours}}:{{element.minutes}}
                            </div>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="hoursrate">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="tab flex items-center gap-2">
                                <h3 class="text-[12px] text-[#64748b] font-bold">HOURS RATE</h3>                     
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="font-semibold text-[14px] text-neutral-800">
                                $ {{element.hourlyRate}}
                            </div>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="price">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="tab flex items-center gap-2">
                                <h3 class="text-[12px] text-[#64748b] font-bold">PRICE</h3>                     
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="font-semibold text-[14px] text-neutral-800">
                                {{element.price}}
                            </div>
                        </td>
                      </ng-container>

                  
                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                  
                    <mat-paginator 
                    [pageSizeOptions]="[5, 10, 20]"
                    [length]="pageLength"
                    [pageSize]="pageSize"
                    [pageIndex]="pageNumber - 1"
                    (page)="getAttendenceData()">
                    </mat-paginator>
                  </div>                 
            </div>
        </div>
    </div>
</div>
