"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[917],{2917:(O,g,i)=>{i.r(g),i.d(g,{AuthSignInModule:()=>H});var l=i(2510),c=i(4859),h=i(6709),p=i(9549),u=i(7392),d=i(4144),f=i(1572),x=i(6236),I=i(7775),v=i(6054),r=i(4006),_=i(8288),t=i(4650),A=i(8951),Z=i(7009),b=i(529),C=i(2494),T=i(6895),S=i(2440);const y=["signInNgForm"],w=["signInnNgForm"];function F(e,a){if(1&e&&(t.TgZ(0,"fuse-alert",38),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function J(e,a){1&e&&t._UZ(0,"mat-icon",39),2&e&&t.Q6J("svgIcon","heroicons_solid:eye")}function N(e,a){1&e&&t._UZ(0,"mat-icon",39),2&e&&t.Q6J("svgIcon","heroicons_solid:eye-off")}function U(e,a){1&e&&(t.TgZ(0,"span")(1,"h4",40),t._uU(2,"Sign in"),t.qZA()())}function Q(e,a){1&e&&t._UZ(0,"mat-progress-spinner",41),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}function Y(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"div",23),t._uU(3,"Sign in"),t.qZA(),t.YNc(4,F,2,5,"fuse-alert",24),t.TgZ(5,"form",25,26)(7,"mat-form-field",27)(8,"mat-label",28),t._uU(9,"Emailaddress"),t.qZA(),t._UZ(10,"input",29),t.qZA(),t.TgZ(11,"mat-form-field",30)(12,"mat-label",28),t._uU(13,"Password"),t.qZA(),t._UZ(14,"input",31,32),t.TgZ(16,"button",33),t.NdJ("click",function(){t.CHM(n);const s=t.MAs(15);return t.KtG(s.type="password"===s.type?"text":"password")}),t.YNc(17,J,1,1,"mat-icon",34),t.YNc(18,N,1,1,"mat-icon",34),t.qZA()(),t.TgZ(19,"button",35),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.signIn())}),t.YNc(20,U,3,0,"span",36),t.YNc(21,Q,1,2,"mat-progress-spinner",37),t.qZA()()()()}if(2&e){const n=t.MAs(15),o=t.oxw();t.xp6(4),t.Q6J("ngIf",o.showAlert),t.xp6(1),t.Q6J("formGroup",o.signInForm),t.xp6(5),t.Q6J("formControlName","email"),t.xp6(4),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===n.type),t.xp6(1),t.Q6J("ngIf","text"===n.type),t.xp6(1),t.Q6J("color","primary")("disabled",o.signInForm.disabled),t.xp6(1),t.Q6J("ngIf",!o.signInForm.disabled),t.xp6(1),t.Q6J("ngIf",o.signInForm.disabled)}}function M(e,a){1&e&&(t.TgZ(0,"span",54)(1,"a",55),t._uU(2,"Change Email"),t.qZA()())}function G(e,a){if(1&e&&(t.TgZ(0,"fuse-alert",56),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function k(e,a){1&e&&(t.TgZ(0,"span")(1,"h4",40),t._uU(2,"Confirm"),t.qZA()())}function q(e,a){if(1&e&&t._UZ(0,"mat-progress-spinner",57),2&e){const n=t.oxw(2);t.Q6J("disabled",n.otpForm.disabled)("diameter",24)("mode","indeterminate")}}const E=function(){return{length:4}};function R(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"div",42),t._uU(3,"Verification Code"),t.qZA(),t.TgZ(4,"div",43),t._uU(5),t.YNc(6,M,3,0,"span",44),t.qZA(),t.YNc(7,G,2,5,"fuse-alert",45),t.TgZ(8,"form",46,47)(10,"div",48),t._uU(11,"Enter OTP Code"),t.qZA(),t.TgZ(12,"ng-otp-input",49),t.NdJ("onInputChange",function(s){t.CHM(n);const m=t.oxw();return t.KtG(m.otpInputChange(s))}),t.qZA(),t.TgZ(13,"button",35),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.otpVerify())}),t.YNc(14,k,3,0,"span",36),t.YNc(15,q,1,3,"mat-progress-spinner",50),t.qZA(),t.TgZ(16,"div",51),t._uU(17," Didn't receive the verification code? "),t.qZA(),t.TgZ(18,"div",52)(19,"a",53),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.otpResend())})("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.openSnackBar())}),t._uU(20,"Resend Code "),t.qZA()()()()()}if(2&e){const n=t.oxw();t.xp6(5),t.hij("We have sent the code verification to ",n.signInForm.value.email," "),t.xp6(1),t.Q6J("ngIf",n.change),t.xp6(1),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("formGroup",n.otpForm),t.xp6(4),t.Q6J("config",t.DdM(9,E)),t.xp6(1),t.Q6J("color","primary")("disabled",n.otpForm.disabled),t.xp6(1),t.Q6J("ngIf",!n.otpForm.disabled),t.xp6(1),t.Q6J("ngIf",n.otpForm.disabled)}}const B=[{path:"",component:(()=>{class e{constructor(n,o,s,m,j,K){this._activatedRoute=n,this._authService=o,this._formBuilder=s,this._router=m,this.snackBar=j,this.http=K,this.alert={type:"success",message:""},this.showAlert=!1,this.change=!1}ngOnInit(){this.http.get("https://jsonip.com").subscribe(n=>{console.log("th data",n),this.ipAddress=n.ip}),this.signInForm=this._formBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required]}),this.otpForm=this._formBuilder.group({otp:["",r.kI.required]})}otpInputChange(n){this.otpValue=n}signIn(){this.signInForm.invalid||(this.signInForm.disable(),this.showAlert=!1,this._authService.signIn({email:this.signInForm.value.email,password:this.signInForm.value.password,ip:this.ipAddress}).subscribe(()=>{this.change=!0},o=>{console.log(o),this.signInForm.enable(),this.signInNgForm.resetForm(),this.alert={type:"error",message:o.error.message},this.showAlert=!0}))}otpVerify(){this.otpForm.disable();const n={email:this.signInForm.value.email,otp:this.otpValue};console.log(n),this.showAlert=!1,this._authService.otpVerify(n).subscribe(()=>{const o=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(o)},o=>{this.otpForm.enable(),this.alert={type:"error",message:o.error.message},this.showAlert=!0})}otpResend(){this.signIn()}openSnackBar(){this.snackBar.open("Otp Sent Successfully","OK",{duration:3e3})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz),t.Y36(A.e),t.Y36(r.QS),t.Y36(l.F0),t.Y36(Z.ux),t.Y36(b.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["auth-sign-in"]],viewQuery:function(n,o){if(1&n&&(t.Gf(y,5),t.Gf(w,5)),2&n){let s;t.iGM(s=t.CRH())&&(o.signInNgForm=s.first),t.iGM(s=t.CRH())&&(o.signInnNgForm=s.first)}},decls:25,vars:2,consts:[[1,"login-page","bg-green-100","my-auto","mx-auto"],[1,"loginpage-inner","w-[755px]","flex","items-center","shadow","bg-white","rounded-2xl"],[1,"loginpage-left-section"],[1,"login-left-inner","w-[340px]","bg-[#047857]","px-[40px]","pt-[45px]","pb-[110px]","rounded-l-2xl"],[1,"login-ledt-data","relative"],[1,"top-back-bg","absolute","top-[-67px]","right-[-50px]"],["src","../../../../assets/logos/Vector.svg","alt",""],[1,"login-left-logo","flex","items-center","gap-[8px]","mt-4"],["src","../../../../assets/logos/Group 14.png","alt","",1,"w-[32px]"],["src","../../../../assets/logos/Tax Store.png","alt","",1,"w-[129px]"],[1,"login-left-header","my-15"],[1,"font-extrabold","text-[26px]","mb-3","text-white"],[1,"font-normal","text-[15px]","text-white"],[1,"login-left-profiles","flex"],["src","../../../../assets/logos/Ellipse 5.png","alt","",1,"w-[44px]","absolute","bottom-[-40px]","left-[0px]"],["src","../../../../assets/logos/Ellipse 6.png","alt","",1,"w-[44px]","absolute","bottom-[-40px]","left-[30px]"],["src","../../../../assets/logos/Ellipse 7.png","alt","",1,"w-[44px]","absolute","bottom-[-40px]","left-[60px]"],["src","../../../../assets/logos/Ellipse 8.png","alt","",1,"w-[44px]","absolute","bottom-[-40px]","left-[90px]"],[1,"top-back-bg","absolute","left-[-70px]"],["src","../../../../assets/logos/Group 1.svg","alt",""],["class","loginpage-right-section",4,"ngIf"],[1,"loginpage-right-section"],[1,"w-[440px]","px-[50px]"],[1,"mt-7","text-[24px]","text-neutral-800","font-semibold"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],["signInNgForm","ngForm"],[1,"w-[336px]","min-h-[40px]","h-[40px]"],[1,"text-[14px]","font-medium","text-neutral-800"],["id","email","matInput","","autocomplete","email",3,"formControlName"],[1,"w-[336px]","mt-2"],["id","password","matInput","","autocomplete","password","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","w-[336px]","mt-6","bg-[#047857]","rounded","min-h-[44px]","h-[44px]",3,"color","disabled","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"icon-size-5",3,"svgIcon"],[1,"text-[16px]","font-semibold"],[3,"diameter","mode"],[1,"mt-7","text-[24px]","font-semibold"],[1,"mt-3","text-[16px]","font-semibold"],["class","text-lg font-semibold text-[#047857] hover:underline",4,"ngIf"],["class","mt-6 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[3,"formGroup"],["otpNgForm","ngForm"],[1,"mt-7","text-[14px]","font-medium","text-neutral-800","mb-3"],[3,"config","onInputChange"],[3,"disabled","diameter","mode",4,"ngIf"],[1,"mt-5","text-[16px]","font-semibold"],[1,"mt-1.5"],[1,"text-md","font-bold","text-[#047857]","cursor-default","hover:underline",3,"click"],[1,"text-lg","font-semibold","text-[#047857]","hover:underline"],["href",""],[1,"mt-6","-mb-4",3,"appearance","showIcon","type"],[3,"disabled","diameter","mode"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.TgZ(7,"div",7),t._UZ(8,"img",8)(9,"img",9),t.qZA(),t.TgZ(10,"div",10)(11,"h2",11),t._uU(12,"Welcome to our Tax Store"),t.qZA(),t.TgZ(13,"p",12),t._uU(14,"Your Taxes, Our Expertise Perfect Match!"),t.qZA(),t._UZ(15,"p"),t.qZA(),t.TgZ(16,"div",13),t._UZ(17,"img",14)(18,"img",15)(19,"img",16)(20,"img",17),t.qZA(),t.TgZ(21,"div",18),t._UZ(22,"img",19),t.qZA()()()(),t.YNc(23,Y,22,10,"div",20),t.YNc(24,R,21,10,"div",20),t.qZA()()),2&n&&(t.xp6(23),t.Q6J("ngIf",!o.change),t.xp6(1),t.Q6J("ngIf",o.change))},dependencies:[c.lW,p.KE,p.hX,p.R9,u.Hw,d.Nt,f.Ou,C.W,T.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,S.df],encapsulation:2,data:{animation:_.L}}),e})()}];let H=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(B),c.ot,h.p9,p.lN,u.Ps,d.c,f.Cq,x.J,I.fC,v.m]}),e})()}}]);